Title: Hosting a Website
Date: 2017-01-02 17:47
Category: Website
slug: hosting-a-website


##How to Host a Website

Alright, so Im sure anyone reading this is just like me, you want to be able to host your own website, without having to pay a company to do it for them. While having a third party host a
website might be a little easier, this way has several different advantages to hosting a website.

Advantages:

* cheaper than paying a website
* learn what it takes to host a website
* self accomplishment
* flexibility to do what you want with your website

Disadvantages:

* typically takes longer
* limited control of the website
* typically costs more

###My website

To start off, this website is hosted on a Raspberry Pi, specifically the Raspberry Pi 3 model B, which can be purchased [here](https://www.adafruit.com/products/3055) for $39.95. A good
advantage of using a Raspberry Pi is that it can be dedicated to this sole purpose, also it pulls a fraction of the electricity than that a regular computer or server will pull, which means that
it is way cheaper to run on a 24/7 basis than the others mentioned.

I do have to mention that it may be more time consuming if you make a mistake, as you will have to re-install the OS and re-do all the settings that were previously used.

On the Raspberry Pi I decided to use Apache2 web-server, which is what this guide follows, however there are other hosting services that can be used such as Nginx. This website is a static blog
generated by a service known as Pelican. The easy way to explain what static means in this context is that it does not use php, mysql, or any other services that may make it less secure and
is served as a stored page.

#####Static Web Page
>A static web page (sometimes called a flat page/stationary page) is a web page that is delivered to the user exactly as stored, in contrast to dynamic web pages which are generated by a web
application.

As I stated in my [About](../pages/about.html) section, to make this website I had to look at a lot of different websites depending on the problems that presented themselves. I would like to
make this guide as close as I can to how I made this website possible. It will be updated as I remember more steps as this project has taken about a month to get to this stage and I have many
more things I would like to add.

###Getting Started
Alright, once you have your Raspberry Pi in hand (note: this may work with other models of the Raspberry Pi I used the Raspberry Pi 3 Model B as stated above) the first thing we need to do is
install the operating system onto the Raspberry Pi. For my website I used Raspbian Jessie Lite. This is the minimal version of the Raspbian OS and I used this as I created and maintain this
website as a headless system. This just means that instead of connecting a keyboard, mouse and monitor to the Pi, I used SSH to do everything. [This site](https://www.raspberrypi.org/downloads/raspbian/)
can be used to download the lite .ISO or the full .ISO as either will work depending on your setup. After you have downloaded the .ISO image you need to write it to a micro SD card in order for
it to run on the Pi. I used windows to do so using a program called Win32 Disk Imager which can be downloaded [here.](https://sourceforge.net/projects/win32diskimager/) Once this program is setup
you can follow the program to write the .ISO to the SD card.

Once the image has been written to the SD card, make sure to insert the card into the Pi. After the card has been inserted and power has been supplied to the Pi the default login is:
* username: pi
* password: raspberry

The first thing that should be done is to change the password by using the command `passwd`. (note: this initial setup will require a keyboard and monitor to be connected to the Pi) After
changing the password you with need to run `sudo raspi-config` this will let you setup the Pi and enable things such as SSH and to setup the internationalization settings. The `raspi-config`
menu looks similiar to this. ![](https://i.stack.imgur.com/Z4FUp.png)

The first thing that you want to do is to use the "Expand FileSystem". This makes sure that the entire SD card space is being used by the OS, I used a 16 GB card.

#####Optional
Next you can configure the Internationalization settings, which is recommended, which makes sure that things such as the keyboard layout is set to your appropriate country among other things.

Next you want to go into the "Advanced Options" menu and make sure that the SSH server is enabled. On a side note, I also enabled the serial option as I have a serial cable to enable me to make
changes to the Pi through this method if need be. It is encouraged that you go through other settings and menus and setup the Pi to your personal preference.

###Using SSH
After you are down with the configuration, run `sudo reboot` to ensure that the settings have taken effect on the Raspberry Pi. Now, if you enabled the SSH option, you are ready to proceed
to host your website through SSH.
######Note: This method is using a Linux system, to use SSH through windows you will need to use programs such as [Putty](http://www.putty.org/)

In order to use SSH you first need to find out what the IP address for your Pi. The two methods that I used was:

1. Run `ifconfig` on your Pi before you disconnect it from the keyboard and monitor
2. Navigate to your home router web-page and find the connected devices to find out the IP.
######Note: As of now you should see it as @pi or @raspberry or something of that nature

Once you have figured out what your IP is run `ssh (username)@IPaddress` where (username) is pi, unless you have already added a new user and wish to use that login, and IPaddress is the IP
address from you PI and example would be `ssh pi@192.168.1.9`. After running this command you will most likely be asked if you want to accept the connection, so type `yes`. After this you will
be asked for the password set to the user. You will now be in the Raspberry Pi environment, and the first thing I usually do when working on my website is switch to the root user. The first thing
you need to do in is run `sudo passwd` this will change the password for the root user, make sure you dont forget this password. After the root password has been set, run `su root` which
will then ask you for the root password. The next recommended step is to make sure the Pi is up to date and is ready to host your website. To do this first run `apt-get update`.
###### Note: Again this is assuming that you are in the root user environment, other wise add `sudo` in front of these commands.
After that is done run the command `apt-get upgrade -y`. The -y will ensure that the command doesnt ask you to approve the upgrades to take place. Once these are done you can run
`apt-get dist-upgrade -y` to see if there is a distribution upgrade from the current version that you have, most likely if you downloaded the image from the link above, this will do nothing.
Now you are ready to continue.

###Optional User step
This step is completely optional, but for my setup I got rid of the Pi user and added my own admin user. A good guide on how to add and delete users as well as making sure any new users have sudo
privileges can be found [here](https://www.raspberrypi.org/documentation/linux/usage/users.md) which is published by the Raspberry Pi Foundation.

###Static IP

One of the first things you need to do is to make sure that you give your Pi a static IP address, this will ensure that when a request is sent from the web to your personal router it will know
where to look and the IP wont change as it would just using DHCP. The first thing you need to do is run `nano /etc/network/interfaces` and make sure that the text in the file looks similiar
to this:

```
 # interfaces(5) file used by ifup(8) and ifdown(8)

 # Please note that this file is written to be used with dhcpcd
 # For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'
 # Include files from /etc/network/interfaces.d:

 source-directory /etc/network/interfaces.d

 auto lo

 iface lo inet loopback

 iface eth0 inet manual

 allow-hotplug wlan0
 iface wlan0 inet manual
     wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

 allow-hotplug wlan1
 iface wlan1 inet manual
     wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
```

The main thing you are worried about here is the `iface eth0`. Again this is assuming you are using the ethernet connection on your Raspberry Pi, which is highly recommended. The next thing you
want to do is run `nano /etc/dhcpcd.conf` and add these lines of code to the bottom:

```
 static ip_address=192.168.1.9/24 [this here is the ip address that you would like to set your host to.]
 static routers=192.168.1.1
 static domain_name_servers=192.168.1.1
```

Where the `static ip_address=` is the desired IP address for your Raspberry Pi. Make sure that you leave the `/24` on the end as this refers back to your subnet.

Now, I believe this was all I did to make my IP static. If this does not work for you, please make sure that you contact me. Please refer to the [Contact](../pages/contact.html) page for
ways on how to contact me.

###Port Forwarding

So this portion of my process will actually depend on you, due to the fact that everyone has different routers meaning there are different ways to port forward to your web host. There are plenty of
sources online that you can find that are specifically for your router. Your best bet is to look for the port forwarding menu with in your router and see if you can figure it out, as it should be
quite easy to do so.

#The rest of this post is still being written.

Thank you
